<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Chatbot AI</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <link rel="stylesheet" href="styles.css">
    <!-- Includi Highlight.js per la sintassi evidenziata -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css">
</head>
<body>
    <div class="chat-container">
        <header>
            <h1>o1-preview | <span>assistenti custom</span></h1>
            <!-- Aggiungi il selettore del modello -->
            <div class="model-selector">
                <label for="model-select">Modello:</label>
                <select id="model-select">
                    <option value="o1">o1</option>
                    <option value="o3-mini">o3-mini</option>
                    <option value="o1-mini">o1-mini</option>
                    <option value="o1-preview">o1-preview</option>
                    <option value="gpt-3.5-turbo">gpt-4o</option>
                    <!-- Aggiungi altri modelli se necessario -->
                </select>
                <div class="formatting-toggle">
                    <input type="checkbox" id="disable-formatting" />
                    <label for="disable-formatting">Disattiva formattazione</label>
                </div>
            </div>
            <!-- Aggiungi questo blocco dove preferisci, ad esempio di fianco al selettore del modello -->
            
  
        </header>
        <div id="conversation-list">
            <h2>Conversazioni</h2>
            <ul id="conversations"></ul>
            <div id="button-wrapper">
                <button id="new-conversation">+ Nuova Conversazione</button>
            </div>
        </div>
        <div id="chat-section">
            <div id="chat-window" style="white-space: pre-wrap;"></div>
            <div class="input-area">
                <textarea id="user-input" placeholder="Scrivi un messaggio..."></textarea>
                <!-- Pulsante per allegare immagini -->
                <input 
                id="upload-input" 
                type="file" 
                accept="image/*" 
                multiple 
                style="display: none;" 
                />
                <button id="upload-button" style="margin-right:8px;">Allega Immagine</button>

                <!-- Pulsante di invio -->
                <button id="send-button">Invia</button>
            </div>
        </div>
    </div>

        <!-- Modal per Anteprima Conversazione -->
    <div id="preview-modal" class="modal">
        <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>Anteprima Conversazione</h2>
        <div id="preview-messages"></div>
        </div>
    </div>

    <div id="image-lightbox" class="image-lightbox">
        <div class="lightbox-content">
          <span id="lightbox-close" class="close-button">&times;</span>
          <img id="lightbox-image" src="" alt="Preview" />
          <div class="lightbox-buttons">
            <button id="lightbox-download">Download</button>
            <button id="lightbox-remove">Rimuovi</button>
          </div>
        </div>
      </div>

    <!-- Include le librerie di Highlight.js -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <!-- Includi i linguaggi che desideri supportare -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/css.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/php.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/json.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/java.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/csharp.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/ruby.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/sql.min.js"></script>

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.1.6/purify.min.js" integrity="sha512-jB0TkTBeQC9ZSkBqDhdmfTv1qdfbWpGE72yJ/01Srq6hEzZIz2xkz1e57p9ai7IeHMwEG7HpzG6NdptChif5Pg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
    <!-- Il tuo script principale -->
    <script type="module" src="script.js"></script>
</body>
</html>